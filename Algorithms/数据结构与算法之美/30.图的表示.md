---
title: 图的表示
date: 2022-08-01 22:45:00
tags:
categories:
- 算法
---

## 理解图 Graph
图中的元素叫做顶点(vertex)。

图中的一个顶点可以与任意其他顶点建立关系，我们把这种建立的关系叫做边(edge)。

跟顶点相连接的边的条数，就叫做顶点的度(degree)。

把边有方向的图叫做有向图，把边没有方向的图就叫做无向图。

无向图中有度的概念，表示一个顶点有多少条边。在有向图中，我们把度分为入度(in-degree)和出度(out-degree)。

顶点的入度，表示有多少条边指向这个顶点；顶点的出度，表示有多少条边是以这个顶点为起点指向其他顶点。

在带权图(weighted graph)中，每条边都有一个权重(weight)。

## 存储图
### 邻接矩阵存储 adjacency matrix
图最直接的一种存储方法就是邻接矩阵。

邻接矩阵的底层依赖一个二维数组。对于无向图来说，如果顶点 i 与 顶点 j 之间有边，我们就将 `A[i][j]` 和 `A[j][i]` 标记为 1；对于有向图来说，如果顶点 i 到顶点 j 之间，有一条箭头从顶点 i 指向顶点 j 的边，那么我们就将 `A[i][j]` 标记为 1。同理，如果有一条箭头从顶点 j 指向顶点 i 的边，我们就将 `A[j][i]` 标记为 1。对于带权图，数组中就存储相应的权重。

用邻接矩阵来表示一个图，虽然简单、直观，但是比较浪费空间。

对于无向图来说，如果 `A[i][j]` 等于 1，那 `A[j][i]` 也肯定等于 1。实际上，我们只需要存储一个就可以了。也就是说，无向图的二维数组中，如果我们将其对角线划分为上下两部分，那我们只需要利用上面或下面这样一半的空间就足够了，另外一半白白浪费掉了。

如果我们存储的是稀疏图(sparse matrix)，也就是说，顶点很多，但么个顶点的边并不多，那邻接矩阵的存储方法就更加浪费空间了。

邻接矩阵存储的优点：
- 简单、直接，因为基于数组，所以在获取两个顶点的关系时，就非常高效；
- 方便计算，用邻接矩阵的方式存储图，可以将很多图的运算转换成矩阵之间的运算。

### 邻接表存储 adjacency list
针对邻接矩阵浪费内存空间的问题，我们来看图的另一种存储方法，邻接表。

每个顶点对应一条链表，链表中存储的是与这个顶点相连接的其他顶点。有向图中，每个顶点对应的链表里面存储的是指向的顶点；无向图中，每个顶点的链表中存储的是跟这个顶点有边相连的顶点。

邻接矩阵存储起来比较浪费空间，但是使用起来比较节省时间。相反，邻接表存储起来比较节省空间，但是使用起来比较耗时间。

邻接表还有改进升级版，即将链表转换成更加高效的动态数据结构，比如平衡二叉查找树、跳表、散列表等。

## 参考
[1] https://time.geekbang.org/column/intro/100017301?tab=catalog

[2] https://github.com/wangzheng0822/algo
