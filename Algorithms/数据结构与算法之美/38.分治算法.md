---
title: 分治算法
date: 2022-08-06 23:11:00
tags:
categories:
- 算法
---

## 如何理解分治算法
分治算法(divide and conquer)的核心思想是分而治之，也就是将原问题划分成 n 个规模较小，并且结构与原问题类似的子问题，递归地解决这些子问题，然后再合并其结果，就得到原问题的解。

分治算法是一种处理问题的思想，递归是一种编程技巧。分治算法一般都比较适合用递归来实现。分治算法的递归实现中，每一层递归都会涉及这样三个操作：
- 分解：将原问题分解成一系列子问题；
- 解决：递归地求解各个子问题，若子问题足够小，则直接求解；
- 合并：将子问题的结果合并成原问题。

分治算法能解决的问题，一般需要满足下面几个条件：
- 原问题与分解成的小问题具有相同的模式；
- 原问题分解成的子问题可以独立求解，子问题之间没有相关性；
- 具有分解终止条件，也就是说，当问题足够小时，可以直接求解；
- 可以将子问题合并成原问题，而这个合并操作的复杂度不能太高，否则就起不到减小算法总体复杂度的效果了。

## 分治算法应用
假设我们有 n 个数据，我们期望数据从小到大排列，那完全有序的数据的有序度就是 n(n-1)/2，逆序度是 0；相反，倒序排列的数据的有序度是 0，逆序度是 n(n-1)/2。除了这两种极端情况外，我们通过计算有序对或逆序对的个数，来表示数据的有序度或逆序度。

问题：如何求解一组数据的有序对或逆序对的个数？

暴力求解，拿每个数字跟它后面的数字比较，这样的时间复杂度是 O(n^2)。

利用分治的思想来求解数组 A 的逆序对个数，可以将数组分成前后两半 A1 和 A2，分别计算 A1 和 A2 的逆序度个数 K1 和 K2，然后再计算 A1 与 A2 之间的逆序对个数 K3，那数组 A 的逆序对个数就是 K1 + K2 + K3。

在归并排序中有一个非常关键的操作，就是将两个有序的小数组，合并成一个有序的大数组。实际上，在这个合并的过程中，我们就可以计算这两个小数组的逆序对的个数了。每次都计算逆序对个数，把这些计算出来的逆序对个数求和，就是这个数组的逆序对个数了。

## 分治思想在海量数据处理中的应用
要解决这种数据量大到内存装不下的问题，我们就可以利用分治的思想。我们可以将海量的数据集合根据某种方法，划分为几个小的数据集合，每个小的数据集合单独加载到内存来解决，然后再将小数据集合合并成大数据集合。

利用分治的处理思想，不仅仅能克服内存的限制，还能利用多线程或者多机处理，加快处理速度。


## 参考
[1] https://time.geekbang.org/column/intro/100017301?tab=catalog

[2] https://github.com/wangzheng0822/algo