---
title: 红黑树
date: 2022-07-31 10:51:00
tags:
categories:
- 算法
---

二叉查找树在频繁的动态更新过程中，可能会出现树的高度远大于 log2(n) 的情况，从而导致各个操作的效率下降。极端情况下，二叉树会退化为链表，时间复杂度会退化到 O(n)。要解决这个复杂度退化的问题，需要设计一种平衡查找二叉树。

平衡二叉树的严格定义是这样的：二叉树中任意一个节点的左右子树的高度相差不能大于 1。完全二叉树、满二叉树都是平衡二叉树，但是非完全二叉树也有可能是平衡二叉树。

平衡二叉查找树不仅满足平衡二叉树的定义，还满足二叉查找树的特点。

发明平衡二叉查找树这类数据结构的初衷是，解决普通二叉查找树在频繁的插入、删除等动态更新的情况下，出现时间复杂度退化的问题。

平衡二叉查找树中平衡的意思，其实就是让整颗树左右看起来比较对称，比较平衡，不要出现左子树很高、右子树很矮的情况，这样就能让整颗树的高度相对来说低一些，相应的插入、删除、查找等操作的效率高一些。

## 定义一棵红黑树 Red-Black Tree
红黑树是一种不严格的平衡查找二叉树。

红黑树中的节点，一类被标记为黑色，一类被标记为红色。除此以外，一棵红黑树还需要满足这样几个要求：
- 根节点是黑色的；
- 每个叶子节点都是黑色的空节点，也就是说，叶子节点不存储数据；
- 任何相邻的节点都不能同时为红色，也就是说，红色节点是被黑色节点隔开的；
- 每个节点，从该节点到达其可到达的叶子节点的所有路径，都包含相同数目的黑色节点。

红黑树是一种平衡二叉查找树，它是为了解决普通二叉查找树在数据更新的过程中，复杂度退化的问题而产生的。红黑树的高度近似 log2(n)，所以它是近似平衡，插入、删除、查找操作的时间复杂度都是 O(logn)。


## 参考
[1] https://time.geekbang.org/column/intro/100017301?tab=catalog

[2] https://github.com/wangzheng0822/algo
