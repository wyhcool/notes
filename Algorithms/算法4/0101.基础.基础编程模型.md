---
title: 基础编程模型
date: 2020-04-06 09:05:00
tags:
categories:
- 算法与数据结构
---

算法不仅仅是计算的方法，探究算法的过程反映出的是我们对这个世界的认知：通过“实验-失败-再实验”循环的锤炼，数学是保证，数据是验证。

所有的算法都是先有 API，再有实现，之后是证明，最后是数据。（先接口后实现，强调测试）

编写一段计算机程序一般都是实现一种已有的方法来解决某个问题，这个方法大多与使用的编程语言无关（它适用于各种计算机及编程语言）。<font color="red"><strong>是这种方法而非计算机程序本身描述了解决问题的步骤。<strong></font>

算法：描述一种有限、确定、有效的并适合用计算机程序来实现的解决问题的方法。

数据结构：即便于算法操作的组织数据的方法。

要定义一个算法，可以用自然语言描述解决某个问题的过程或编写一段程序来实现这个过程。

## Java 程序基本结构
Java 语言基础，也是大多数现代语言共有的：
- 原始数据类型
- 语句
- 数组
- 静态方法
- 字符串
- 标准输入／输出
- 数据抽象


## 原始数据类型与表达式
数据类型就是一组数据和对其所能进行的操作的集合。Java 语言最基本的原始数据类型包括：
- 整型 int
- 浮点型 double
- 布尔型 boolean
- 字符型 char

Java 程序控制的是用标识符命名的变量。标识是由字母、数字、下划线和 $ 组成的字符串，首字母不能是数字。每个变量都有自己的类型并存储了一个合法的值。

变量表示某种数据类型的值，运算符表示某种数据类型的运算。

表达式由字面量、变量或是能够计算出结果的一串字面量、变量和运算符的组合，表达式的目的是计算某种数据类型的值。

<font color="red"><strong>只要能够指定值域和在此值域上的操作，就能定一个数据类型。<strong></font>

注意⚠️：运算符 `+`、`-`、`*`、`/` 都是被重载过的，根据上下文，同样的运算符对不同类型会执行不同的操作。

🌿初级运算的关键性质是：运算产生的数据的数据类型和参与运算的数据的数据类型是相同的。

### 表达式
Java 使用的是中缀表达式：一个字面量(或是一个表达式)，紧跟着一个运算符，再接着是另一个字面量(或是另一个表达式)。

### 类型转换
如果不会损失信息，数值会被自动提升为高级的数据类型。

转换指的是在表达式中把类型名放在括号里将其后的值转换为括号中的类型。注意⚠️：将浮点数转换为整数将会截断小数部分而非四舍五入。

尽量少使用类型转换，最好在表达式中只使用同一类型的字面量和变量。

### 比较
比较相同数据类型的两个值并产生一个布尔值。

### 其他原始类型
- 64 位整数 long
- 16 位整数 short
- 16 位字符 char
- 8 位整数 byte
- 32 位单精度实数 float


## 语句
Java 程序是由语句组成的。

语句能够通过创建和操作变量、对变量赋值并控制这些操作的执行流程来描述运算。

语句通常会被组织成代码段，即花括号中的一系列语句。
- 声明语句
- 赋值语句
- 条件语句
- 循环语句
- 调用和返回语句：改变执行流程和代码组织

程序就是由一系列的声明、赋值、条件、调用和返回语句组成的。

一般来说代码的结构都是嵌套的。

### 声明语句
声明语句将一个变量名和一个类型在编译时关联起来，在声明语句中指定变量的名称和类型。（强类型，编译器会检查类型的一致性）

### 赋值语句
赋值语句将（由一个表达式定义的）某个数据类型的值和一个变量关联起来。

赋值语句的左侧必须是单个变量，右侧可以是能够得到相应类型的值的任意表达式。

### 条件语句
根据指定的条件执行两个代码段之一。

### 循环语句
只要条件为真就不断地反复执行代码段中的语句。

### break 与 continue 语句
在循环中使用：
- break 语句，立即从循环中退出；
- continue 语句，立即开始下一轮循环。

## 简便记法
### 声明并初始化
将声明语句和赋值语句结合起来，在声明（创建）一个变量的同时将它初始化。

最好在接近首次使用变量的地方声明它并将其初始化（限制它的作用域）。

### 隐式赋值
- 递增／递减运算符；
- 复合赋值运算符。

### 单语句代码段
如果条件或循环语句的代码段只有一条语句，代码段的花括号可以省略。

### for 循环
```
for (<initialize>; <boolean expression>; <increment>) {
    <block statements>
}
```


## 数组
数组能够顺序存储相同类型的多个数据。

访问数组中的某个元素的方法是将其编号然后索引。

### 创建并初始化数组
创建一个数组需要三步：
- 声明数组的名字和它含有的数据的类型；
- 创建数组，指定数组的长度；
- 初始化数组元素。

需要在运行时明确地创建数组，因为 Java 编译器在编译时需要为数组预留空间。

### 使用数组
在声明并创建数组后，在代码的任何地方都能通过数组名之后的方括号中的索引来访问其中的元素。

数组一经创建，它的大小就是固定的。

Java 会自动地进行边界检查，程序会因为运行时抛出 `ArrayOutOfBoundException` 异常而终止。

### 起别名
注意⚠️：数组名表示的是整个数组。如果将一个数组变量赋予另一个变量，那么两个变量将会指向同一个数组。这种情况叫做起别名。

### 二维数组
在 Java 中二维数组就是一维数组的数组。二维数组可以是参差不齐的。


## 静态方法
静态方法是一组在被调用时会被顺序执行的语句，使用 `static` 修饰符。

### 静态方法
静态方法封装了由一系列语句所描述的运算。

静态方法需要参数(某种数据类型的值)并根据参数计算出某种数据类型的返回值或者产生某种副作用。

每个静态方法都是由签名（关键字 public static、函数的返回值、方法名和一串各种类型的参数）和函数体（包含在花括号内的代码）组成的。

### 调用静态方法
调用静态方法的方法是写出方法名并在后面的括号中列出参数值，用逗号分隔。

仅由一个方法调用和一个分号组成的语句一般用于产生副作用。

### 方法的性质
方法的参数按值传递：在方法中参数变量的使用方法和局部变量相同，唯一不同的是参数变量的初始化是由调用方提供的。方法处理的是参数的值，而非参数本身。<font color="yellow">值传递意味着数组参数将会是原数组的别名，方法中使用的参数变量能够引用调用者的数组并改变其内容。</font>

方法名可以被重载。

方法只能返回一个值，但可以包含多个返回语句。

方法可以产生副作用：返回值为 `void` 的静态方法会产生副作用（接受输入、产生输出、修改数组或者改变系统状态）。

### 递归
方法可以调用自己。

编写递归代码时最重要的有以下三点：
- 递归总有一个最简单的情况：方法的第一条语句总是一个包含 `return` 的条件语句。
- 递归调用总是尝试解决一个规模更小的问题，这样递归才能收敛到最简单的情况。
- 递归调用的父问题和尝试解决的子问题之间不应该有交集。

### 基础编程模型
静态方法库是定义在一个 Java 类中的一组静态方法。类的声明是 `public class` 加上类名，以及用花括号包含的静态方法。存放类的文件的文件名和类名相同，扩展名是 .java。

Java 开发的基本模式是编写一个静态方法库来完成一个任务。

### 模块化编程
通过静态方法库实现模块化编程，可以构造多个静态方法库(模块)，一个库中的静态方法也能够调用另一个类中的静态方法：
- 程序整体的代码量很大时，每次处理的模块规模仍然适中；
- 可以共享和重用代码而无需重新实现；
- 很容易用改进的实现替换老的实现；
- 可以为解决编程问题建立合适的抽象模型；
- 缩小测试范围。

### 单元测试
Java 编程的最佳实践之一就是<font color="green">每个静态方法库都包含一个 main() 函数来测试库中的所有方法</font>。

### 外部库
系统标准库 java.lang.*：这其中包括 Math 库，实现了常用的数学函数；Integer 和 Double 库，能够将字符串转化为 int 和 double 值；String 和 StringBuilder 库；以及其他库。

导入的系统库：例如 java.utils.Arrays，要在程序的开头使用 import 语句导入才能使用这些库。

## API
模块化编程的一个重要组成部分就是记录库方法的用法并供其他人参考的文档。

应该将自己编写的每一个程序都当作一个日后可以重用的库：
- 编写用例，在实现中将计算过程分解成可控的部分。
- 明确静态方法库和与之对应的 API。
- 实现 API 和一个能够对方法进行独立测试的 main() 函数。

API 的目的是将调用和实现分离，可以将 API 看作是调用和实现之间的一份契约，它详细说明了每个方法的作用，实现的目标就是能够遵守这份契约。

## 字符串
字符串是由一串字符(char 类型的值)组成的。一个 `String` 类型的字面量包括一对双引号和其中的字符。

`String` 类型是 Java 的一个数据类型，但并不是原始数据类型。

### 字符串拼接
Java 内置了一个串联 String 类型字符串的运算符(+)。

### 类型转换
字符串的两个主要用途分别是：将用户从键盘输入的内容转换成相应数据类型的值，以及将各种数据类型的值转换成能够在屏幕上显示的内容。

### 自动转换
如果加号(+)的一个参数是字符串，那么 Java 会自动将其他参数都转换为字符串(如果它们不是的话)。

### 命令行参数
字符串的重要用途是使程序能够接收到从命令行传递来的信息。输入命令，调用库的 main() 方法时将库名之后的一系列字符串变成一个数组作为参数传递。


## 输入输出
Java 程序可以从命令行参数或者一个名为标准输入流(standard input stream)的抽象字符流中获得输入，并将输入写入另一个名为标准输出流(standard output stream)的字符流中。

默认情况下，命令行参数、标准输入和标准输出是和应用程序绑定的，而应用程序是由能够接受命令输入的操作系统或是开发环境所支持的。

笼统地使用终端(terminal window)来指代这个应用提供的供输入显示的窗口。

### 命令和参数
终端窗口包含一个提示符，通过它向操作系统输入命令和参数。

### 标准输出
一般来说，系统会将标准输出打印到终端窗口：
- print() 方法会将它的参数放到标准输出中；
- println() 方法会附加一个换行符；
- printf() 方法能够格式化输出。

### 格式化输出
在最简单的情况下 printf() 方法接受两个参数，第一个参数是一个格式化字符串，描述了第二个参数应该如何在输出中被转换为一个字符串。

最简单的格式化字符串的第一个字符是 % 并紧跟一个字符表示的转换代码。最常用的转换代码包括 d(十进制整数)、f(浮点型) 和 s(字符串)。

使用 printf() 方法是需要记住的一点是：<font color="red">格式字符串中的转换代码和对应参数的数据类型必须匹配。</font>

### 标准输入
输入的内容由 `ctrl-d` 或 `ctrl-z` 结束，取决与使用的终端应用程序。

标准输入流最重要的特点是这些值会在程序读取它们之后消失。只要程序读取了一个值，它就不能回退并再次读取它。

### 重定向与管道
将标准输出重定向至一个文件：
```shell
% java RandomSeq 1000 100.0 200.0 > data.txt
```
终端窗口不会出现任何输出，每次调用 print() 或是 printl() 都会向该文件追加一段文本。

类似，可以重定向标准输入以使从文件而不是终端应用程序中读取数据：
```shell
% java Average < data.txt
```

将一个程序的输入重定为一个程序的输入叫做管道：
```shell
% java RandomSeq 1000 100.0 200.0 | java Average
```

### 基于文件的输入输出

### 标准绘图库(基本方法)
基本的几何图形，包括点、直线、文本字符串、圆、长方形和多边形等。

### 标准绘图库(控制方法)
改变画布的大小和比例、直线的颜色和宽度、文本字体、绘图时间等。


## 二分查找

## 展望
数据抽象，有时也被称为面向对象编程。数据抽象的主要思想是定义自己的数据类型（一系列值和对这些值的操作），而不仅仅是那些操作预定义的数据类型的静态方法。

拥抱数据抽象：
- 允许通过模块化复用代码；
- 轻松构造多种链式数据结构，比数组更灵活；
- 借助数据抽象可以准确定义所面对的算法问题。


## 参考
[1] 算法(第4版).Sedgwick,Wayne.人民邮电出版社,2012.10