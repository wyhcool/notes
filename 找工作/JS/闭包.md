---
title: 闭包
date: 2021-10-06 19:06
tags:
categories:
- 找工作
---

闭包是带数据的函数。

ECMAScript 只使用静态(词法)作用域(static scope, lexical scope)。 创建该函数的上层执行环境的数据是保存在函数的内部属性`[[Scope]]`中。 在 ECMAScript 中所有的函数都是闭包，因为它们都是在函数创建时保存了上层执行环境的作用域链(不管这个函数是否会被调用，`[[Scope]]` 属性在函数创建时就已存在)。

因为作用域链，使得所有函数都是闭包。 只有一类函数除外，那就是通过 Function 构造器创建的函数，因为其 `[[Scope]]` 只包含全局对象。 在 ECMAScript 中，闭包是指：
- 从理论角度：所有的函数在创建时都将其父级执行环境中的数据保存起来了。
- 从实践角度：
  - 即使创建函数的执行环境已经销毁，但函数依旧存在(内部函数从父函数中返回)
  - 在代码中使用了自由变量