---
title: 测试 Node 程序
date: 2021-05-29 19:18:00
tags:
categories:
- JavaScript
---


在添加程序特性时，你也可能会引入 bug。没经过测试的程序是不完整的。自动测试需要编写测试代码的逻辑，而不是手动运行程序的功能。

单元测试直接测试代码逻辑，通常在函数或方法层面，适用于所有类型的程序。单元测试方法可以分为两大形态：测试驱动开发(TDD)和行为驱动开发(BDD)。

验收测试是额外的测试层，在 Web 程序上用的很普遍。验收测试用脚本控制浏览器，并试图用它触发 Web 程序的功能。


## 单元测试
编写测试让你更认真地思考你的程序设计选择，帮你尽早避开各种陷阱。测试还让你相信你最近做出的修改没有引入错误。

异步单元测试可以并行运行，所以必须小心，确保测试不会相互干扰。


### assert 模块
大多数的 Node 单元测试都是基于内置的 assert 模块，它可以测试条件，如果条件未满足，则抛出错误。

用 equal 测试变量的内容；用 notEqual 找出逻辑中的问题；用 ok 测试异步值是否为 true；用 throws 测试能否正确抛出错误。

为了使用 Node 的内置功能，每个测试都要包含很多套路化的代码设置测试，追踪测试进程。这些套路化的代码让你把工作中心偏移到了编写测试用例上，因此为专注于业务逻辑测试，可使用第三方的单元测试框架。


### Nodeunit

### Mocha

### Vows

### should.js


## 验收测试
验收测试也被称为功能测试，它测试程序的输出而不是逻辑。在为项目创建了一套单元测试后，验收测试可以再提供一层防护，找出可能被单元测试漏掉的 bug。

### Tobi

### Soda


## 参考
[1] Mike Cantelon, Marc Harter, T.J. Holowaychuk, Nathan Rajlich. Node.js in Action.