---
title: 【基础篇】计算属性
date: 2019-04-05 23:30:00
tags:
categories:
- Vue
---

## 介绍
模板内的表达式常用于简单的运算，当其过长或逻辑复杂时，会难以维护，而计算属性就是用来解决该问题的。

所有的计算属性都以函数的形式写在 Vue 实例内的 computed 选项内，最终返回计算后的结果。

## 计算属性用法
在一个计算属性里可以完成各种复杂的逻辑、包括运算、函数调用等，只要最终返回一个结果就可以。

计算属性还可以依赖多个数据，只要其中任一数据变化，计算属性就会重新执行，视图也会更新。

每一个计算属性都包含一个 getter 和一个 setter，默认地，计算属性利用 getter 来读取，在需要时，也可以提供一个 setter 函数，当手动修改计算属性的值时，就会触发 setter 函数，执行一些自定义的操作。

计算属性可以依赖其他计算属性，不仅可以依赖当前 Vue 实例的数据，还可以依赖其他实例的数据。

## 计算属性缓存
调用 methods 里的方法也可以与计算属性起到同样的作用，那么为什么还需要计算属性呢？

原因就是计算属性是基于它的依赖缓存的。一个计算属性所依赖的数据发生变化时，它才会重新取值，而 methods 则不同，只要重新渲染，它就会被调用，因此函数也会被执行。

使用计算属性还是 methods 取决于你是否需要缓存，当遍历大数组和做大量计算时，应当使用计算属性。


## 参考
[1] 梁灏. Vue.js 实战. 清华大学出版社, 2017.