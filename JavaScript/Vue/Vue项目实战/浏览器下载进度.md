---
title: 浏览器下载进度
date: 2023-10-23 19:11:00
tags:
categories:
- Vue
---


一种是通过blob转换，通过a标签下载
- a 标签进行下载，如果不用更改文件名称，那就比较方便，并且不需要进行blob转换。但是如果是下载视频录像等，使用a标签就会先打开新的页面，在进行点击下载操作。操作流程比较长。
- 如果使用 a 标签并且需要更改文件名称，就需要先进行 blob 转换操作，通过 XMLHttpRequest 进行转换，如果是视频类或者文件内容比较大的情况下，耗时长并且页面长时间无响应变化，可能造成用户多次触发下载操作。
- 下载过程中无进度显示，转成 blob 之后秒下载，但是转的过程耗时长。

一种是通过插件 streamSaver 和 fetch 进行下载
- 使用streamSaver进行下载，页面会显示当前下载进度及总共下载大小，页面空白等待时间短，用户能看到下载操作正在进行。
- 缺点是页面会有一个小弹框。
- 总体来说使用streamSaver插件要比方案一体验更好。


## 参考
[1] https://www.jianshu.com/p/ec5412df5049