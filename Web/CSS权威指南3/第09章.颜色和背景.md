---
title: 【绘制】颜色和背景
date: 2019-02-13 00:16:00
tags:
categories:
- CSS
---

## 颜色
<em>选择的类名最好描述其中包含的信息类型，而不是你想要达到什么视觉效果。</em>

CSS 中实际只有一种颜色类型，即纯色。

在 CSS 中，可以为任何元素设置前景和背景。前景包括元素的文本和元素周围的边框。

## 前景色

| 属性 | color |
|:-:|:-|
| 值 | <color\>&#124;inherit |
| 初始值 | 用户代理特定的值 |
| 应用于 | 所有元素 |
| 继承性 | 有 |
| 计算值 | 根据指定确定 |

对于非替换元素，属性 color 设置了元素中文本的颜色。

### 替换属性
利用锚伪类，color 完全可以替换 HTML 3.2 的 BODY 属性 TEXT、LINK、ALINK 和 VLINK。

### 影响边框
color 值可以影响元素周围的边框，默认地，边框颜色取自内容的颜色。

为 border-color 设置的值总会覆盖 color 值。

### 影响表单元素
为表单元素设置颜色。
```css
input[type="radio"] { color: #333; }
input[type="checkbox"] { color: #CCC; }
```

### 继承颜色
color 是可以继承的。


## 背景
元素的背景区包括前景之下直到边框外边界的所有空间。因此，内容框、内边距、边框都画在背景之上。

### 背景色

| 属性 | background-color |
|:-:|:-|
| 值 | <color\>&#124;transparent&#124;inherit |
| 初始值 | transparent |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 计算值 | 根据指定确定 |

background-color 不能继承，其默认值是  transparent。如果一个元素没有指定的颜色，那么背景就应当是透明的，这样其祖先元素的背景才能可见。

### 背景图像

| 属性 | background-image |
|:-:|:-|
| 值 | <uri\>&#124;none&#124;inherit |
| 初始值 | none |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 计算值 | 根据指定确定 |

使用 background-image 属性将图像放入背景。默认值 none 表示背景上没有放任何图像。

所有的背景属性都不能继承，Why?

假设背景能继承，而且向 body 应用了一个背景图像，这个图像将应用于文档所有元素的背景，而且每个元素都完成自己的平铺。这并非大多数创作人员所期望的。

**良好的实践：图像放在所在指定的背景颜色之上。只要有背景图像就应该同时包含一个背景颜色。**
```css
p.starry {
    background-image: url(./stars.gif);
    background-color: black; color: white;
}
```

如果完全平铺 GIF、JPEG 或其他不透明的图像类型，图像在背景颜色之上并无不同；对于有 alpha 通道的图像格式，如 PNG，可能会部分或完全透明，这会导致图像与背景色结合。

### 有方向的重复

| 属性 | background-repeat |
|:-:|:-|
| 值 | repeat&#124;repeat-x&#124;repeat-y&#124;no-repeat&#124;inherit |
| 初始值 | repeat |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 计算值 | 根据指定确定 |

repeat 导致图像在水平垂直方向上都平铺；repeat-x 和 repeat-y 分别导致图像只在水平或垂直方向上重复，no-repeat 则不允许图像在任何方向上平铺。

默认地，背景图像将从一个元素的左上角开始。

### 背景定位
每个包含图像的背景都从一个图像开始，再根据 background-repeat 的值重复或不重复，这个起点称为原图像(origin image)。

| 属性 | background-position |
|:-:|:-|
| 值 | [[<percentage>&#124;<length>&#124;left&#124;center&#124;right] [<percentage>] &#124;<length>&#124;top&#124;center&#124;bottom]?]&#124;&#124;[[left&#124;center&#124;right]&#124;&#124;[top&#124;center&#124;bottom]]&#124;inherit |
| 初始值 | 0% 0% |
| 应用于 | 块级元素和替换元素 |
| 继承性 | 无 |
| 百分数 | 相对于元素和原图像上的相应点 |
| 计算值 | 如果指定了<length\>，则为绝对长度偏移；否则，是百分数值 |

原图像的放置位置由 background-position 属性决定，将相对于元素的内边距边界放置原图像。

#### 关键字
位置关键字可以按任意顺序出现，只要保证不超过两个关键字，一个对应水平方向，另一个对应垂直方向。

如果只出现一个关键字，则认为另一个关键字是 center。

| 单个关键字 | 等价关键字 |
| center | center center |
| top | top center、 center top |
| bottom | bottom center、 center bottom |
| right | right center、 center right |
| left | left center、 center left |

#### 百分数值
将原图像在其元素中居中，其中心与其元素的中心对齐。
```css
p {
    background-image: url(bigyinyang.gif);
    background-repeat: no-repeat;
    background-position: 50% 50%;
}
```
用百分数设置位置，水平值总是先出现。

如果只提供了一个百分数值，所提供的这个值将作为水平值，垂直值设为 50%。

| 单个关键字 | 等价关键字 | 等价百分数 |
| center | center center | 50% 50%、 50% |
| top | top center、 center top | 50% 0% |
| bottom | bottom center、 center bottom | 50% 100% |
| right | right center、 center right | 100% 50%、 100% |
| left | left center、 center left | 0% 50%、 50%|
|      | top left、 left top | 0% 0%|
|      | top right、 right top | 100% 0 |
|      | bottom right、right bottom | 100% 100% |
|      | bottom left、left bottom | 0% 100% |

#### 长度值
为原图像的位置提供长度值时，解释为从元素内边距区左上角的偏移。偏移点是原图像的左上角。

使用长度值或百分数值，可以使用负值将原图像拉出元素的背景去。

#### 有方向的重复
background-positio 确定平铺从哪里开始。
- 当背景从中心平铺时，这会在各边界得到一致的剪裁效果。
- 当背景从左上角平铺时，在各边界的剪裁是不一致的。

### 关联
使用属性 background-attachment，可以声明图像相对于可视区是固定的(fixed)，这将使得原图像不会随着文档滚动，原图像的放置由可视区的大小确定，而不是由包含该图像的元素的大小决定，但背景只在其包含元素中可见。

| 属性 | background-attachment |
|:-:|:-|
| 值 | scroll&#124;fixed&#124;inherit |
| 初始值 | scroll |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 计算值 | 根据指定确定 |

background-attachment 的默认值为 scroll，会导致背景随其余文档滚动，而且当窗口大小调整时，不一定改变原图像的位置。如果文档宽度是固定的，那么可视区大小的调整不会影响滚动关联的原图像的位置。

### 汇总
背景属性可汇总到一个简写属性：background。这个属性可以从各个其他背景属性取一个值，而且可以采用任何顺序。

| 属性 | background |
|:-:|:-|
| 值 | [<background-color\>&#124;&#124;<background-image\>&#124;&#124;<background-repeat\>&#124;&#124;<background-attachment\>&#124;&#124;<background-position\>]&#124;inherit |
| 初始值 | 根据各个属性 |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 百分数 | <background-positon\>允许的值 |
| 计算值 | 见各个属性 |

如果 background-position 有两个值，它们必须一起出现，而且如果这两个值是长度或百分数，必须按水平值在前垂直值在后的顺序。

如果省略了某些值，就会自动填入相应属性的默认值。

background 没有必不可少的值，只要至少出现了一个值就行，而忽略所有其他属性值。

background 的默认值会覆盖先前为给定元素指定的值。


## 参考
[1] Meyer E , 迈耶, Meyer. CSS权威指南[M]. 东南大学出版社, 2007.