---
title: 【布局】内边距、边框和外边距
date: 2019-02-12 21:27:00
tags:
categories:
- CSS
---

## 基本元素框
所有文档元素会生成一个元素框，描述了一个元素在文档布局中所占的空间大小，每个框影响着其他元素框的位置和大小。

### 宽度与高度
width 和 height 属性均不能应用到行内非替换元素。

| 属性 | width |
|:-:|:-|
| 值 | <length\>&#124;<percentage\>&#124;auto&#124;inherit |
| 初始值 | auto |
| 应用于 | 块级元素和替换元素 |
| 继承性 | 无 |
| 百分数 | 相对于包含块的宽度计算 |
| 计算值 | 对于 auto 和百分数值，要根据指定确定；否则是一个绝对长度，除非元素不能应用该属性(此时为 auto) |

| 属性 | height |
|:-:|:-|
| 值 | <length\>&#124;<percentage\>&#124;auto&#124;inherit |
| 初始值 | auto |
| 应用于 | 块级元素和替换元素 |
| 继承性 | 无 |
| 百分数 | 相对于包含块的高度计算 |
| 计算值 | 对于 auto 和百分数值，要根据指定确定；否则是一个绝对长度，除非元素不能应用该属性(此时为 auto) |

### 外边距与内边距
元素背景会延伸到内边距中，但不会延伸到外边距，为元素指定的内边距和外边距会影响元素的背景何时结束。

## 外边距
设置外边距会在元素外创建额外的空白。“空白”通常指不能放其他元素的区域，而且在这个区域中可以看到父元素的背景。

| 属性 | margin |
|:-:|:-|
| 值 | [<length\>&#124;<percentage\>&#124;auto&#124;]{1,4}&#124;inherit |
| 初始值 | 未定义 |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 百分数 | 相对于包含块的width |
| 计算值 | 见各个属性 |

margin 的默认值是 0，如果没有为 margin 声明一个值，就不会出现外边距。在实际中，用户代理会对许多元素提供预定的样式，如有必要，需覆盖默认样式。

### 长度值和外边距
设置元素的外边距时，可以使用任何长度值。

```css
h1 { margin: 1em; }
/* 遵循从上 (top) 开始围着元素顺时针旋转的模式
以正确的顺序设置各边的外边距避免 TRouBLe(Top Right Bottom Left)
 */
h1 { margin: top right bottom left; }
```

### 百分数和外边距
百分数是相对于父元素的 width 计算的，如果父元素的 width 以某种方式发生改变，百分数也会改变。该定义不仅应用于左右外边距，也应用于上下外边距。

**正常流**中的大多数元素都会足够高以包含其后代元素，如果一个元素的上下边距是父元素 height 的一个百分数，就可能导致一个无限循环，父元素的 height 增加，以适应后代元素上下边距的增加，相应地，上下边距又必须增加，以适应新的父元素 height。

### 值复制
允许为外边距指定少于4个值，规则如下：
- 如果缺少左外边距的值，则使用右外边距的值；
- 如果缺少下外边距的值，则使用上外边距的值；
- 如果缺少右外边距的值，则使用上外边距的值。

### 单边外边距属性
只设置某一边上的属性，而不会直接影响其他所有外边距。

| 属性 | margin-top、margin-right、margin-bottom、margin-left |
|:-:|:-|
| 值 | <length\>&#124;<percentage\>&#124;auto&#124;inherit |
| 初始值 | 0 |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 百分数 | 相对于包含块的width |
| 计算值 | 对于百分数，根据指定确定；否则，为绝对长度 |

### 负外边距
为元素设置负外边距将导致元素超出其父元素，或者与其他元素重叠。

### 合并外边距
正常流中垂直相邻外边距会合并。

### 外边距与行内元素
向一个行内非替换元素应用外边距，对行高没有任何影响。

<em>对于只包含文本的行，能改变行间距离的属性只有 line-height、font-size 和 vertical-align。</em>

向行内非替换元素应用上下外边距时，不影响行高；应用左右外边距时，会在元素的开始和结尾处有额外的空间。

为替换元素设置的外边距会影响行高，可能会使行高增加或减少。行内替换元素的左右外边距与非替换元素的左右外边距的作用相同。

## 边框
每个边框都有 3 个方面：其宽度或粗细、其样式或外观、以及其颜色。边框宽度的默认值是 medium，这个值没有明确定义，通常为 2 个像素。边框的默认样式为 none。

### 边框与背景
元素的背景会延伸到边框边界之外，因为边框绘制在元素的背景之上。

### 边框样式
边框的样式控制着边框的显示。如果没有样式，将根本没有边框。

| 属性 | border-style |
|:-:|:-|
| 值 | [none&#124;hidden&#124;dotted&#124;dashed&#124;solid&#124;double&#124;groove&#124;ridge&#124;inset&#124;outset]{1,4}&#124;inherit |
| 初始值 | 对简写属性没有定义 |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 计算值 | 见各个属性 |

#### 多种样式
```css
p.aside { border-style: solid dashed dotted solid; }
```

#### 单边样式

| 属性 | border-top-style、border-right-style、border-bottom-style、border-left-style |
|:-:|:-|
| 值 | none&#124;hidden&#124;dotted&#124;dashed&#124;solid&#124;double&#124;groove&#124;ridge&#124;inset&#124;outset&#124;inherit |
| 初始值 | none |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 计算值 | 根据指定确定 |

### 边框宽度

| 属性 | border-width |
|:-:|:-|
| 值 | [thin&#124;medium&#124;thick&#124;<length\>]{1,4}&#124;inherit |
| 初始值 | 对简写属性没有定义 |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 计算值 | 见各个属性 |

| 属性 | border-top-width、border-right-width、border-bottom-width、border-left-width |
|:-:|:-|
| 值 | thin&#124;medium&#124;thick&#124;<length\>&#124;inherit |
| 初始值 | medium |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 计算值 | 绝对长度；如果边框的样式为 none 或 hidden，则为 0 |

#### 根本没有边框
将 border-style 设置为 none 时，边框不存在。由于边框不能存在，所以它不可能有宽度，因此 width 自动设置为 0，而不论原先定义是什么。

### 边框颜色

| 属性 | border-color |
|:-:|:-|
| 值 | [<color\>&#124;transparent]{1,4}&#124;inherit |
| 初始值 | 对简写属性没有定义 |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 计算值 | 见各个属性 |

如果没有声明颜色，默认颜色则是元素的前景色。

| 属性 | border-top-color、border-right-color、border-bottom-color、border-left-color |
|:-:|:-|
| 值 | <color\>&#124;transparent&#124;inherit |
| 初始值 | 元素的 color 值 |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 计算值 | 如果没有指定值，则使用同一元素的 color 属性的计算值；否则，根据指定确定 |

#### 透明边框
使用边框颜色值 transparent 用于创建有宽度的不可见边框。

```css
a:link, a:visited { 
    border-style: solid;
    border-width: 5px;
    border-color: transparent;
}

a:hover { border-color: silver; }
```

### 简写边框属性

| 属性 | border-top、border-right、border-bottom、border-left |
|:-:|:-|
| 值 | [<border-width\>&#124;&#124;<border-style\>&#124;&#124;<border-color\>]&#124;inherit |
| 初始值 | 对简写属性没有定义 |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 计算值 | 见各个属性 |

具体值的顺序并不重要。

| 属性 | border|
|:-:|:-|
| 值 | [<border-width\>&#124;&#124;<border-style\>&#124;&#124;<border-color\>]&#124;inherit |
| 初始值 | 对简写属性没有定义 |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 计算值 | 根据指定确定 |

### 边框与行内元素
设置行内元素的边框，左右边框将是可见的，在元素的两端都出现了边框，而且文本会在其旁边显示，即不会覆盖。

设置行内元素的上下边框，不影响行高，但是边框该放在哪里就会放在哪里，导致可能与前面后面行重叠。

## 内边距
元素框的内边距在边框与内容区之间。

| 属性 | padding |
|:-:|:-|
| 值 | [<length\>&#124;<percentage>]{1,4}&#124;inherit |
| 初始值 | 对简写属性没有定义 |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 百分数 | 相对于包含块的 width |
| 计算值 | 见各个属性 |
| 说明 | 内边距绝对不能为负 |

### 百分数和内边距
百分数值相对于其父元素的 width 计算，如果父元素的 width 改变，它们也会改变。

### 单边内边距

| 属性 | padding-top、padding-right、padding-bottom、padding-left |
|:-:|:-|
| 值 | <length\>&#124;<percentage>&#124;inherit |
| 初始值 | 0 |
| 应用于 | 所有元素 |
| 继承性 | 无 |
| 百分数 | 相对于包含块的 width |
| 计算值 | 对于百分数值，根据指定确定；对于长度值，则为绝对长度 |
| 说明 | 内边距绝对不能为负 |

### 内边距和行内元素
设置行内元素的左右内边距，左右内边距将是可见的，在元素的两端都出现了额外的空背景。

设置行内元素的上下内边距，不影响行高，但是背景可以向元素上面和下面延伸，导致可能与前面后面行重叠。

### 内边距与替换元素
不论替换元素是块级元素还是行内元素，内边距都会围绕其内容，背景色填入该内边距。

## 参考
[1] Meyer E , 迈耶, Meyer. CSS权威指南[M]. 东南大学出版社, 2007.