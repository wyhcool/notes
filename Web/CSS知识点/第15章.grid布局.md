---
title: 【布局】grid布局
date: 2019-03-12 19:14:00
tags:
categories:
- CSS
---

## 背景
CSS 网格布局是目前 CSS 中可用的最强大的布局系统。它是二维系统，即可以处理行和列，不像 flexbox 只是一维系统。我们通过为父元素（变为grid container）和子元素（变为grid items）应用 CSS 规则来使用 grid 布局。

## 基础
### 网格容器 grid container
当一个元素设置 display: grid 属性时，它就会成为所有网格项目(grid items)的父元素。网格容器为其内容建立新的网格格式化上下文(gfc)，是内部网格项目的边界。

### 网格项目 grid items
网格容器的直接子元素。

### 网格线 grid line
分界线构成了网格的结构。他们可以是垂直的("列网格线")也可以是水平的("行网格线")，并且存在于一行或一列的任一侧。

### 网格轨道 grid track
两个相邻网格线之间的空间，相当于网格的行或列。

### 网格单元格 grid cell
两个相邻的行和两个相邻的列之间的网格线空间。它是网格的一个"单位"。网格内容的单位区块，是可以放置内容的最小区块。

### 网格区域 grid area
以网格线为界划定一块区域。四条网格线所包围的所有空间。网格区域可由任意数量的网格单元格组成。

## grid 容器属性
### display
定义一个元素成为网格容器，并对其内容建立一个网格格式化上下文。
```css
.container{
    display: grid | inline-grid   
}
```
注意: column, float, clear, 和 vertical-align 元素对网格容器不起作用。

### grid-template-columns | grid-template-rows
利用以空格分隔的值定义网格的列和行。值的大小代表轨道的大小，并且它们之间的空格表示网格线。

```css
.container {
    grid-template-columns: <track-size> ... | <line-name> <track-size> ... | subgrid;
    grid-template-rows: <track-size> ... | <line-name> <track-size> ... | subgrid;
}
```
各取值含义：
- <track-size\>，可以是一个长度、百分比或者是网格中自由空间的一小部分(使用fr单位)
- <line-name\>，任意名称
- subgrid，如果网格容器本身就是一个网格项(即嵌套网格)，可以使用此属性指定行和列的大小继承于父元素而不是自身指定。

示例：
```css
/*当在值之间留有空格时，网络线就会自动分配数值名称*/
.container {
    grid-template-columns: 40px 50px auto 50px 40px;
    grid-template-rows: 25% 100px auto;
}

/*也可以显式命名*/
.container {
    grid-template-columns: [first] 40px [line2] 50px [line3] auto [col4-start] 50px [five] 40px [end];
    grid-template-rows: [row1-start] 25% [row1-end] 100% [third-line] auto [last-line];
}

/*一条网格线可以具有有多个名称*/
.container {
    grid-template-rows: [row1-start] 25% [row1-end row2-start] 25% [row2-end];
}

/*如果定义中包含重复的部分，可以使用 repeat() 表示法进行精简:*/
.container{
    grid-template-columns: repeat(3, 20px [col-start]) 5%;
}
/*等价于*/
.container {
    grid-template-columns: 20px [col-start] 20px [col-start] 20px [col-start] 5%;
}

/*fr 单位允许你将一个轨道大小设置为网格容器内自由空间的一小部分*/
.container {
    grid-template-columns: 1fr 1fr 1fr;
}
/*自由空间表示除去非弹性项以后剩余的空间。 fr 单位的可用空间表示减去50px以后的空间大小*/
.container {
    grid-template-columns: 1fr 50px 1fr 1fr;
}
```

### grid-template-areas
定义一个显式的网格区域。定义网格区域名称，使用 grid-area 调用声明好的网格区域名称放置对应的网格项目。

网格区域重复的名称就会导致内容跨越这些单元格。句点表示一个空单元格。语法本身提供了一种可视化的网格结构。

```css
.container {
    grid-template-areas: "<grid-area-name> | . | none | ..." "..."
}
```
各取值含义：
- <grid-area-name\>，使用 grid-area 属性定义网格区域名称
- .，句点表示一个空单元格
- none，无网格区域被定义

示例：
```css
/*创建一个四列三行的网格。最上面的一行为header区域。中间一行由一个左side区域、一个main区域，和一个右side区域。最后一行是footer区域。*/


```

## grid 项目属性



## 参考
[1] Eric A. Meyer & Estelle Weyl. CSS:The Definitive Guide VISUAL PRESENTATION FOR THE WEB[M]. O’Reilly Media, Inc., November 2017.

[2] [A Complete Guide to CSS Grid Layout | chris.house](http://chris.house/blog/a-complete-guide-css-grid-layout/)

[3] [A Complete Guide to Grid](https://css-tricks.com/snippets/css/complete-guide-grid/)

[4] [未来布局之星 Grid](https://juejin.im/post/59c722b35188257a125d7960#heading-23)