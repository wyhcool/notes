---
title: 视觉效果
date: 2019-03-13 16:32:00
tags:
categories:
- CSS
---

通常，一个块框的内容被限制在框的内容边缘之内。在某些情况下，内容可能部分或完全溢出到框的外部，比如：
- 无法断行，导致行框比块框还宽；
- 块级框比其包含块还宽，当元素的 width 属性值导致生成的块框溢出包含块的边界；
- 元素的高度超出直接指定高度的包含块，也就是包含块的高度不是由内容高度决定，而是由 height 属性直接设定；
- 绝对定位的后代框，部分位于框的外部。这些后代框不总是被祖先框的 overflow 属性而剪裁，具体来说，这些后代框不会被它们与其包含块之间的任何祖先框的溢出而剪裁；
- 后代框具有负外边距，导致其部分位于框外；
- text-indent 属性导致行内框被悬挂在块框的左右边缘之外

当溢出发生时，overflow 属性指定是否将框用内边距边缘(padding edge)剪裁，也指定发生剪裁的时候，是不是要提供滚动机制来访问被剪掉的内容。

## 溢出属性 overflow

| 属性 | overflow |
|:-:|:-|
| 值 | visible&#124;hidden&#124;scroll&#124;auto&#124;inherit |
| 初始值 | visible |
| 应用于 | 块容器 |
| 继承性 | 无 |
| 计算值 | 根据指定确定 |

该属性指定块容器元素的内容在溢出元素框时是否被剪裁，除了某些后代元素(包含块是视口或指定元素的祖先)及其各自的内容和后代以外。它影响元素所有的内容的剪裁，

各取值含义：
- visible，这个值表示内容不会被剪裁，即它可以在块框外部呈现；
- hidden，这个值表示内容会被剪裁，并且不应提供滚动用户界面来查看剪裁范围之外的内容；
- scroll，这个值表示内容会被剪裁，如果用户代理使用屏幕上可见的滚动机制，则不管内容有没有被剪裁，都应该显示该机制，这避免了动态环境下混动条出现或消失造成的问题。(NOTE:实际中滚动条总是在内容溢出时出现，导致页面出现布局的问题)
- auto，这个值的行为取决于用户代理，用户代理应当为溢出框提供滚动机制。

用户代理必须将根元素上的 overflow 属性应用于视口。用户代理必须将视口上的 value 值以 auto 解读，<em>传值给视口的元素的 overflow 属性的使用值必须为 visible</em>。

如果滚动条放置在元素框的边缘，则应当将其插入到内边框边缘(inner border edge)和外内边距边缘(out padding edge)之间。滚动条占用的任何的空间都应该从元素形成的包含块中拿掉(从相应的边减掉)。

## 剪裁属性 clip
剪裁区域定义元素 border 框的哪个部分可见。默认情况下，元素不会被剪裁。但是使用 clip 属性可以显式设置剪裁区域。

| 属性 | clip |
|:-:|:-|
| 值 | <shape\>&#124;auto&#124;inherit |
| 初始值 | auto |
| 应用于 | 绝对定位元素 |
| 继承性 | 无 |
| 计算值 | 若指定值为 auto，则计算值为 auto，否则计算值是一个有四个取值的长方形，其中各个值如果原先指定植是 auto，则计算值为 auto，否则为计算长度。 |

<strong>clip 属性仅适用于绝对定位元素</strong>。

各取值含义：
- auto，使用者代理不剪裁元素。
- <shape\>，在 CSS 2.1 中，唯一合法的 <shape\> 值是：rect( <top\> , <right\> , <bottom\> , <left\> )，其中 <top\> 与 <bottom\> 指定从顶边框边(top border edge)开始算的偏移，<right\> 与<left\> 指定从左边框边(left border edge)开始算的偏移，使用逗号分隔各偏移值。可把 <length\> 值或 auto 当作 <top\>、<right\>、<bottom\> 和 <left\> 用。本规范允许负的长度。auto 值代表剪裁范围对应的边会是元素生成的 border 框的边（也就是，auto 值在 <top\> 和 <left\> 的地方与 0 相等，在<bottom\>的地方与高度的使用值加垂直的内边距与边框宽度的总和相同，在<right\>的地方与宽度的使用值加水平的内边距与边框宽度的总和相同，使得四个 auto 值会让剪裁范围变成与元素的 border 框相同）。在将坐标四舍五入成像素座标时，使用者代理应该注意在 <left\> 与 <right\> 有相同取值（或是 <top\> 与 <bottom\> 有相同取值）的情况下没有任何可见像素，反过来说使用者代理应该注意在这些值是 auto 的时候，元素的 boder 框没有隐藏的像素。

元素的剪裁区域剪掉元素任何在剪裁区域外的部分(例如：内容、子节点、背景、边框、文本修饰、轮廓和可见滚动机制等等)，被剪去后的内容不会造成溢出。

元素的祖先也可以剪裁其内容的一部分（例如：透过自己的 clip 属性或自己不是 visible 的 overflow值），浏览器会渲染交集。


## 可见性 visibility

| 属性 | visibility |
|:-:|:-|
| 值 | visible&#124;hidden&#124;collapse&&#124;inherit |
| 初始值 | visible |
| 应用于 | 所有元素 |
| 继承性 | 有 |
| 计算值 | 根据指定确定 |

visibility 属性指定是否呈现元素生成的框，不可见的框仍会影响布局（将 display 设置为 none 以完全禁止框的生成）。

各取值含义：
- visible，生成的框是可见的；
- hidden，生成的框是不可见的（完全透明，没有绘制任何内容），但仍会影响布局。此外，如果元素的后代的 visibility 属性值为 visible 时是可见的。
- collapse，若这个取值用在不是行、行组、列或列祖以外的元素上使用，则 collapse 与 hidden 具有相同的含义。



## 参考
[1] [Visual effects | CSS2.1 |W3C](https://www.w3.org/TR/CSS2/visufx.html)
