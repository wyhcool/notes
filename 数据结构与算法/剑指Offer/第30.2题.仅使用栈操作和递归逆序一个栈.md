---
title: 如何仅用递归函数和栈操作逆序一个栈
date: 2019-01-31 20:40:00
tags:
categories:
- 算法与数据结构
---

## 题目描述
一个栈依次压入1、2、3、4、5，即从栈顶到栈底分别为5、4、3、2、1。将这个栈转置之后，从栈顶到栈底为1、2、3、4、5，也就是完成栈的逆序。只能用递归函数来实现，不能使用其他的数据结构。


## JavaScript解法

### 只使用一个递归函数时
并不能逆序一个栈。

```javascript
function reverse(stack) {
    if (stack.length === 0) {
        return;
    }
    var value = getAndRemove
    reverse(stack);
    stack.push(value);
}
```


### 使用两个递归函数时：
递归函数一：将栈的栈底元素一个一个弹出

![](https://github.com/wyhcool/notes/blob/master/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%89%91%E6%8C%87Offer/%E7%AC%AC30.2%E9%A2%98.%E4%BB%85%E4%BD%BF%E7%94%A8%E6%A0%88%E6%93%8D%E4%BD%9C%E5%92%8C%E9%80%92%E5%BD%92%E9%80%86%E5%BA%8F%E4%B8%80%E4%B8%AA%E6%A0%881.png)

递归函数二：逆序栈

![](https://github.com/wyhcool/notes/blob/master/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%89%91%E6%8C%87Offer/%E7%AC%AC30.2%E9%A2%98.%E4%BB%85%E4%BD%BF%E7%94%A8%E6%A0%88%E6%93%8D%E4%BD%9C%E5%92%8C%E9%80%92%E5%BD%92%E9%80%86%E5%BA%8F%E4%B8%80%E4%B8%AA%E6%A0%882.png)

```javascript
function shift(stack) {
    var value = stack.pop();
    if (stack.length === 0) {
        return value;
    }
    var bottom = shift(stack);
    stack.push(value);
    return bottom;
}

function reverse(stack) {
    if (stack.length === 0) {
        return;
    }
    var value = shift(stack);
    reverse(stack);
    stack.push(value);
}
```